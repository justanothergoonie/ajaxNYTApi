{"version":3,"sources":["main.js"],"names":["Main","setupEventListeners","buttonEl","document","querySelector","addEventListener","handleSearch","bodyEl","handleResults","handleSearchError","event","preventDefault","queryEl","queryTerm","value","console","log","api","NytApi","alert","search","results","allResultsEl","textContent","r","detail","resultsEl","createElement","appendChild","articleContainer","setAttribute","aboutArticleContainer","sectionEl","section_name","linkEl","headlineEl","web_url","headline","main","snippetEl","snippet","byLineDateContainer","bylineEl","byline","original","innerText","dateEl","Date","pub_date","toDateString","imgEl","m","multimedia","url","error"],"mappings":"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","sourcesContent":["//\nclass Main {\n\tconstructor() {\n\t\t// the flow\n\t\t//1. set up form event listener(s) that will make the API calls\n\t\t//2. setup callback functions to process API responses\n\t\tthis.setupEventListeners();\n\t}\n\tsetupEventListeners() {\n\t\tconst buttonEl = document.querySelector('[name=\"search\"]');\n\t\tbuttonEl.addEventListener('click', this.handleSearch);\n\t\t// buttonEl.addEventListener('click', this.handleResults);\n\t\tconst bodyEl = document.querySelector('body');\n\t\tbodyEl.addEventListener('got-results', this.handleResults);\n\t\tbodyEl.addEventListener('got-error', this.handleSearchError);\n\t}\n\n\thandleSearch(event) {\n\t\tevent.preventDefault();\n\t\t//\n\t\tconst queryEl = document.querySelector('[name=\"query\"]');\n\t\tconst queryTerm = queryEl.value;\n\n\t\tconsole.log('searching...', queryTerm);\n\n\t\tconst api = new NytApi();\n\t\tif (queryTerm === '') {\n\t\t\talert('You need to search for something');\n\t\t} else {\n\t\t\tapi.search(queryTerm);\n\t\t}\n\t}\n\n\thandleResults(results) {\n\t\tconst allResultsEl = document.querySelector('.results');\n\n\t\tallResultsEl.textContent = ' ';\n\t\tfor (let r in results.detail) {\n\t\t\t//\n\t\t\tconst resultsEl = document.createElement('li');\n\t\t\tallResultsEl.appendChild(resultsEl);\n\t\t\t//\n\t\t\tconst articleContainer = document.createElement('div');\n\t\t\tarticleContainer.setAttribute('class', 'article-Container');\n\t\t\tresultsEl.appendChild(articleContainer);\n\t\t\t//\n\t\t\tconst aboutArticleContainer = document.createElement('div');\n\t\t\taboutArticleContainer.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t'about-Article-Container)'\n\t\t\t);\n\t\t\tarticleContainer.appendChild(aboutArticleContainer);\n\t\t\t//\n\t\t\tconst sectionEl = document.createElement('span');\n\t\t\taboutArticleContainer.appendChild(sectionEl);\n\t\t\tsectionEl.textContent = results.detail[r].section_name;\n\t\t\t//\n\n\t\t\t//\n\t\t\tconst linkEl = document.createElement('a');\n\t\t\taboutArticleContainer.appendChild(linkEl);\n\t\t\tconst headlineEl = document.createElement('h2');\n\t\t\tlinkEl.appendChild(headlineEl);\n\t\t\tlinkEl.setAttribute('href', results.detail[r].web_url);\n\t\t\tlinkEl.setAttribute('target', '_blank');\n\t\t\theadlineEl.textContent = results.detail[r].headline.main;\n\t\t\t//\n\n\t\t\t//\n\t\t\tconst snippetEl = document.createElement('p');\n\t\t\taboutArticleContainer.appendChild(snippetEl);\n\t\t\tsnippetEl.textContent = results.detail[r].snippet;\n\t\t\t//\n\t\t\tconst byLineDateContainer = document.createElement('div');\n\t\t\tbyLineDateContainer.setAttribute('class', 'byLine-Date-Container');\n\t\t\tarticleContainer.appendChild(byLineDateContainer);\n\n\t\t\t//\n\t\t\tconst bylineEl = document.createElement('span');\n\t\t\tbyLineDateContainer.appendChild(bylineEl);\n\t\t\tif (results.detail[r].byline.original === null) {\n\t\t\t\tbylineEl.innerText === 'NYT';\n\t\t\t} else {\n\t\t\t\tbylineEl.textContent = results.detail[r].byline.original + ' ';\n\t\t\t}\n\t\t\t//\n\t\t\tconst dateEl = document.createElement('span');\n\t\t\tbyLineDateContainer.appendChild(dateEl);\n\t\t\tnew Date(results.detail[r].pub_date).toDateString();\n\t\t\tdateEl.textContent = new Date(\n\t\t\t\tresults.detail[r].pub_date\n\t\t\t).toDateString();\n\t\t\t//\n\t\t\tconst imgEl = document.createElement('img');\n\t\t\tresultsEl.appendChild(imgEl);\n\t\t\tfor (let m in results.detail[r].multimedia) {\n\t\t\t\timgEl.setAttribute(\n\t\t\t\t\t'src',\n\t\t\t\t\t'https://www.nytimes.com/' +\n\t\t\t\t\t\tresults.detail[r].multimedia[m].url\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t// console.log(results.detail);\n\t}\n\n\thandleSearchError(error) {}\n}\n\nnew Main();\n"],"file":"main.js"}