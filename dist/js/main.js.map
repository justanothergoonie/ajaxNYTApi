{"version":3,"sources":["main.js"],"names":["Main","setupEventListeners","buttonEl","document","querySelector","addEventListener","handleSearch","bodyEl","handleResults","handleSearchError","event","preventDefault","queryEl","queryTerm","value","console","log","api","NytApi","search","results","allResultsEl","textContent","r","detail","resultsEl","createElement","appendChild","sectionEl","section_name","linkEl","headlineEl","setAttribute","web_url","headline","main","snippetEl","snippet","bylineEl","byline","original","dateEl","Date","pub_date","toDateString","imgEl","multimedia","url","error"],"mappings":";;;;;;;;AAAA;IACMA,I;AACL,kBAAc;AAAA;;AACb;AACA;AACA;AACA,SAAKC,mBAAL;AACA;;;;0CACqB;AACrB,UAAMC,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAjB;AACAF,MAAAA,QAAQ,CAACG,gBAAT,CAA0B,OAA1B,EAAmC,KAAKC,YAAxC,EAFqB,CAGrB;;AACA,UAAMC,MAAM,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAf;AACAG,MAAAA,MAAM,CAACF,gBAAP,CAAwB,aAAxB,EAAuC,KAAKG,aAA5C;AACAD,MAAAA,MAAM,CAACF,gBAAP,CAAwB,WAAxB,EAAqC,KAAKI,iBAA1C;AACA;;;iCAEYC,K,EAAO;AACnBA,MAAAA,KAAK,CAACC,cAAN,GADmB,CAEnB;;AACA,UAAMC,OAAO,GAAGT,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAhB;AACA,UAAMS,SAAS,GAAGD,OAAO,CAACE,KAA1B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BH,SAA5B;AAEA,UAAMI,GAAG,GAAG,IAAIC,MAAJ,EAAZ;AACAD,MAAAA,GAAG,CAACE,MAAJ,CAAWN,SAAX;AACA;;;kCAEaO,O,EAAS;AACtB,UAAMC,YAAY,GAAGlB,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAArB;AAEAiB,MAAAA,YAAY,CAACC,WAAb,GAA2B,GAA3B;;AACA,WAAK,IAAIC,CAAT,IAAcH,OAAO,CAACI,MAAtB,EAA8B;AAC7B;AACA,YAAMC,SAAS,GAAGtB,QAAQ,CAACuB,aAAT,CAAuB,IAAvB,CAAlB;AACAL,QAAAA,YAAY,CAACM,WAAb,CAAyBF,SAAzB,EAH6B,CAK7B;;AACA,YAAMG,SAAS,GAAGzB,QAAQ,CAACuB,aAAT,CAAuB,MAAvB,CAAlB;AACAD,QAAAA,SAAS,CAACE,WAAV,CAAsBC,SAAtB;AACAA,QAAAA,SAAS,CAACN,WAAV,GAAwBF,OAAO,CAACI,MAAR,CAAeD,CAAf,EAAkBM,YAA1C,CAR6B,CAS7B;AAEA;;AACA,YAAMC,MAAM,GAAG3B,QAAQ,CAACuB,aAAT,CAAuB,GAAvB,CAAf;AACAD,QAAAA,SAAS,CAACE,WAAV,CAAsBG,MAAtB;AACA,YAAMC,UAAU,GAAG5B,QAAQ,CAACuB,aAAT,CAAuB,IAAvB,CAAnB;AAEAI,QAAAA,MAAM,CAACH,WAAP,CAAmBI,UAAnB;AAEAD,QAAAA,MAAM,CAACE,YAAP,CAAoB,MAApB,EAA4BZ,OAAO,CAACI,MAAR,CAAeD,CAAf,EAAkBU,OAA9C;AACAH,QAAAA,MAAM,CAACE,YAAP,CAAoB,QAApB,EAA8B,QAA9B;AACAD,QAAAA,UAAU,CAACT,WAAX,GAAyBF,OAAO,CAACI,MAAR,CAAeD,CAAf,EAAkBW,QAAlB,CAA2BC,IAApD,CApB6B,CAqB7B;AAEA;;AACA,YAAMC,SAAS,GAAGjC,QAAQ,CAACuB,aAAT,CAAuB,GAAvB,CAAlB;AACAD,QAAAA,SAAS,CAACE,WAAV,CAAsBS,SAAtB;AACAA,QAAAA,SAAS,CAACd,WAAV,GAAwBF,OAAO,CAACI,MAAR,CAAeD,CAAf,EAAkBc,OAA1C,CA1B6B,CA2B7B;;AACA,YAAMC,QAAQ,GAAGnC,QAAQ,CAACuB,aAAT,CAAuB,MAAvB,CAAjB;AACAD,QAAAA,SAAS,CAACE,WAAV,CAAsBW,QAAtB;AACAA,QAAAA,QAAQ,CAAChB,WAAT,GAAuBF,OAAO,CAACI,MAAR,CAAeD,CAAf,EAAkBgB,MAAlB,CAAyBC,QAAzB,GAAoC,GAA3D,CA9B6B,CA+B7B;;AACA,YAAMC,MAAM,GAAGtC,QAAQ,CAACuB,aAAT,CAAuB,MAAvB,CAAf;AACAD,QAAAA,SAAS,CAACE,WAAV,CAAsBc,MAAtB;AACA,YAAIC,IAAJ,CAAStB,OAAO,CAACI,MAAR,CAAeD,CAAf,EAAkBoB,QAA3B,EAAqCC,YAArC;AACAH,QAAAA,MAAM,CAACnB,WAAP,GAAqB,IAAIoB,IAAJ,CACpBtB,OAAO,CAACI,MAAR,CAAeD,CAAf,EAAkBoB,QADE,EAEnBC,YAFmB,EAArB,CAnC6B,CAsC7B;;AACA,YAAMC,KAAK,GAAG1C,QAAQ,CAACuB,aAAT,CAAuB,KAAvB,CAAd;AACAD,QAAAA,SAAS,CAACE,WAAV,CAAsBkB,KAAtB;AAEAA,QAAAA,KAAK,CAACb,YAAN,CAAmB,KAAnB,EAA0BZ,OAAO,CAACI,MAAR,CAAeD,CAAf,EAAkBuB,UAAlB,CAA6BC,GAAvD,EA1C6B,CA4C7B;AACA;;AACDhC,MAAAA,OAAO,CAACC,GAAR,CAAYI,OAAO,CAACI,MAApB;AACA;;;sCAEiBwB,K,EAAO,CAAE;;;;;;AAG5B,IAAIhD,IAAJ","sourcesContent":["//\nclass Main {\n\tconstructor() {\n\t\t// the flow\n\t\t//1. set up form event listener(s) that will make the API calls\n\t\t//2. setup callback functions to process API responses\n\t\tthis.setupEventListeners();\n\t}\n\tsetupEventListeners() {\n\t\tconst buttonEl = document.querySelector('[name=\"search\"]');\n\t\tbuttonEl.addEventListener('click', this.handleSearch);\n\t\t// buttonEl.addEventListener('click', this.handleResults);\n\t\tconst bodyEl = document.querySelector('body');\n\t\tbodyEl.addEventListener('got-results', this.handleResults);\n\t\tbodyEl.addEventListener('got-error', this.handleSearchError);\n\t}\n\n\thandleSearch(event) {\n\t\tevent.preventDefault();\n\t\t//\n\t\tconst queryEl = document.querySelector('[name=\"query\"]');\n\t\tconst queryTerm = queryEl.value;\n\t\tconsole.log('searching...', queryTerm);\n\n\t\tconst api = new NytApi();\n\t\tapi.search(queryTerm);\n\t}\n\n\thandleResults(results) {\n\t\tconst allResultsEl = document.querySelector('.results');\n\n\t\tallResultsEl.textContent = ' ';\n\t\tfor (let r in results.detail) {\n\t\t\t//\n\t\t\tconst resultsEl = document.createElement('li');\n\t\t\tallResultsEl.appendChild(resultsEl);\n\n\t\t\t//\n\t\t\tconst sectionEl = document.createElement('span');\n\t\t\tresultsEl.appendChild(sectionEl);\n\t\t\tsectionEl.textContent = results.detail[r].section_name;\n\t\t\t//\n\n\t\t\t//\n\t\t\tconst linkEl = document.createElement('a');\n\t\t\tresultsEl.appendChild(linkEl);\n\t\t\tconst headlineEl = document.createElement('h2');\n\n\t\t\tlinkEl.appendChild(headlineEl);\n\n\t\t\tlinkEl.setAttribute('href', results.detail[r].web_url);\n\t\t\tlinkEl.setAttribute('target', '_blank');\n\t\t\theadlineEl.textContent = results.detail[r].headline.main;\n\t\t\t//\n\n\t\t\t//\n\t\t\tconst snippetEl = document.createElement('p');\n\t\t\tresultsEl.appendChild(snippetEl);\n\t\t\tsnippetEl.textContent = results.detail[r].snippet;\n\t\t\t//\n\t\t\tconst bylineEl = document.createElement('span');\n\t\t\tresultsEl.appendChild(bylineEl);\n\t\t\tbylineEl.textContent = results.detail[r].byline.original + ' ';\n\t\t\t//\n\t\t\tconst dateEl = document.createElement('span');\n\t\t\tresultsEl.appendChild(dateEl);\n\t\t\tnew Date(results.detail[r].pub_date).toDateString();\n\t\t\tdateEl.textContent = new Date(\n\t\t\t\tresults.detail[r].pub_date\n\t\t\t).toDateString();\n\t\t\t//\n\t\t\tconst imgEl = document.createElement('img');\n\t\t\tresultsEl.appendChild(imgEl);\n\n\t\t\timgEl.setAttribute('src', results.detail[r].multimedia.url);\n\n\t\t\t//\n\t\t}\n\t\tconsole.log(results.detail);\n\t}\n\n\thandleSearchError(error) {}\n}\n\nnew Main();\n"],"file":"main.js"}