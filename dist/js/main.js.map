{"version":3,"sources":["main.js"],"names":["Main","setupEventListeners","buttonEl","document","querySelector","addEventListener","handleSearch","bodyEl","handleResults","handleSearchError","event","preventDefault","queryEl","queryTerm","value","console","log","api","NytApi","search","results","r","detail","allResultsEl","resultsEl","createElement","appendChild","sectionEl","textContent","section_name","headlineEl","headline","main","snippetEl","snippet","bylineEl","byline","original","dateEl","Date","pub_date","toDateString","imgEl","setAttribute","multimedia","url","error"],"mappings":"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","sourcesContent":["//\nclass Main {\n\tconstructor() {\n\t\t// the flow\n\t\t//1. set up form event listener(s) that will make the API calls\n\t\t//2. setup callback functions to process API responses\n\t\tthis.setupEventListeners();\n\t}\n\tsetupEventListeners() {\n\t\tconst buttonEl = document.querySelector('[name=\"search\"]');\n\t\tbuttonEl.addEventListener('click', this.handleSearch);\n\t\t// buttonEl.addEventListener('click', this.handleResults);\n\t\tconst bodyEl = document.querySelector('body');\n\t\tbodyEl.addEventListener('got-results', this.handleResults);\n\t\tbodyEl.addEventListener('got-error', this.handleSearchError);\n\t}\n\n\thandleSearch(event) {\n\t\tevent.preventDefault();\n\t\t//\n\t\tconst queryEl = document.querySelector('[name=\"query\"]');\n\t\tconst queryTerm = queryEl.value;\n\t\tconsole.log('searching...', queryTerm);\n\n\t\tconst api = new NytApi();\n\t\tapi.search(queryTerm);\n\t}\n\n\thandleResults(results) {\n\t\tfor (let r in results.detail) {\n\t\t\tconst allResultsEl = document.querySelector('.results');\n\t\t\tconst resultsEl = document.createElement('li');\n\t\t\tallResultsEl.appendChild(resultsEl);\n\t\t\t//\n\t\t\tconst sectionEl = document.createElement('span');\n\t\t\tresultsEl.appendChild(sectionEl);\n\t\t\tsectionEl.textContent = results.detail[r].section_name;\n\t\t\t//\n\t\t\tconst headlineEl = document.createElement('h2');\n\t\t\tresultsEl.appendChild(headlineEl);\n\t\t\theadlineEl.textContent = results.detail[r].headline.main;\n\t\t\t//\n\t\t\tconst snippetEl = document.createElement('p');\n\t\t\tresultsEl.appendChild(snippetEl);\n\t\t\tsnippetEl.textContent = results.detail[r].snippet;\n\t\t\t//\n\t\t\tconst bylineEl = document.createElement('span');\n\t\t\tresultsEl.appendChild(bylineEl);\n\t\t\tbylineEl.textContent = results.detail[r].byline.original + ' ';\n\t\t\t//\n\n\t\t\tconst dateEl = document.createElement('span');\n\t\t\tresultsEl.appendChild(dateEl);\n\t\t\tnew Date(results.detail[r].pub_date).toDateString();\n\t\t\tdateEl.textContent = new Date(\n\t\t\t\tresults.detail[r].pub_date\n\t\t\t).toDateString();\n\t\t\t//\n\t\t\tconst imgEl = document.createElement('img');\n\t\t\tresultsEl.appendChild(imgEl);\n\t\t\timgEl.setAttribute('src', results.detail[r].multimedia.url);\n\t\t\t//\n\t\t}\n\n\t\tconsole.log(results.detail);\n\t}\n\n\thandleSearchError(error) {}\n}\n\nnew Main();\n"],"file":"main.js"}